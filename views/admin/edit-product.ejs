<!DOCTYPE html>
<html lang="en">

<head>
<%-include('../layouts/head.ejs') %>

</head>

<body>

<%- include('../layouts/nav.ejs')%>

<div class="container" style="padding-top:100px;">
<div class="row mt-3">

<div class="col-lg-12">

      <form action="/admin/products" method="POST" enctype="multipart/form-data">

            <input type="hidden" name="_csrf" value="<%= csrfToken%>">
            <input type="hidden" name="id" value="<%= product._id%>" >

            <div class="row mb-3">
                  <label for="productname" class="col-sm-2 col-form-label">Product Name</label>
                  <div class="col-sm-10 mb-3">
                        <input type="text" class="form-control" id="productName" name="name" value="<%=product.name%>">
                  </div>

                  <label for="productprice" class="col-sm-2 col-form-label">Price</label>
                  <div class="col-sm-10 mb-3">
                        <input type="text" class="form-control" id="productPrice" name="price" value="<%=product.price%>">
                  </div>

                  <label for="imageUrl" class="col-sm-2 col-form-label">Image</label>
                  <div class="col-sm-10 mb-3">
                        <!-- RESİM VE INPUT KONTROLÜ YAN YANA -->
                        <img src="/img/<%= product.imageUrl%>" alt="" width="100" height="80">
                        <input type="file"  id="productImage" name="imageUrl" value="<%=product.imageUrl%>">
                        <p><%=product.imageUrl%></p>
                        <!--RESİM VE INPUT KONTROLÜ YAN YANA -->
                  </div>

                  <label for="categoryid" class="col-sm-2 col-form-label">Category</label>


                  <% categories.forEach(category => {  %>
                  <div class="form-check form-check-inline">
                        <input
                                <% if (category.selected) {%>
                                          checked
                                   <% }%>
                                type="checkbox"  id="flexCheckDefault"    name="categories" class="form-check-input" value="<%= category._id%>">


                              <label class="form-check-label" for="flexCheckDefault">
                                    <%= category.name%>
                              </label>
                  </div>

                        <% })%>




            </div>


                  <label for="productDescription" class="col-sm-2 col-form-label">Description</label>
                  <div class="col-sm-10 mb-3">
                        <textarea name="description" id="editor" cols="80" rows="10"><%= product.description%></textarea>
                  </div>

            </div>

            <div class="row mb-3">
                  <div class="col-sm-10 offset-sm-2">
                        <input type="submit" value="Save Product" class="btn btn-primary">
                  </div>
            </div>

      </form>

</div>
</div>
</div>


<%- include('../layouts/footer.ejs') %>
<script src="https://cdn.ckeditor.com/4.16.0/standard/ckeditor.js"></script>
<script src="/js/script.js"></script>
